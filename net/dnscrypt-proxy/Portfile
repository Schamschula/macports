# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id: Portfile $

PortSystem          1.0

name                dnscrypt-proxy
version             1.4.2
categories          net
license             GPL
maintainers         gmail.com:mschamschula openmaintainer
description         A protocol for securing communications between a client and a DNS \
                    resolver.
long_description    ${description}
homepage            http://dnscrypt.org/
master_sites        http://download.dnscrypt.org/dnscrypt-proxy/

platforms           darwin
depends_lib         port:libsodium

checksums           rmd160  4b73dc9e81b9776510b869fab8f331cdd3280649 \
                    sha256  1d519068c30868bb60a151908f0e300a1754b234f7bc2ad1d749ad9d0d977076

startupitem.create      yes
startupitem.netchange   yes
startupitem.executable  ${prefix}/sbin/dnscrypt-proxy --daemonize --resolver-name=opendns

notes "
*******
******* You need to update your DNS server to point to 127.0.0.1
******* (in the Network Preference Pane -> Advanced... -> DNS tab)
*******
"

livecheck.type      regex
livecheck.regex     ${name}-(\\d+\.\\d+.\\d)
