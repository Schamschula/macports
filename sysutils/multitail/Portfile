# $Id: Portfile 120433 2014-05-28 04:30:01Z ryandesign@macports.org $

PortSystem 1.0

name		multitail
version		6.4.1
categories	sysutils
license     GPL-2
maintainers	honk-honk.com:luc
platforms	darwin
description	Tail multiple files in one terminal at once
long_description	MultiTail lets you view one or multiple files like the \
	original tail program. The difference is that it creates multiple \
	windows on your console (with ncurses). Merging of 2 or even more \
	logfiles is possible. It can also use colors while displaying the \
	logfiles (through regular expressions), for faster recognition of what \
	is important and what not. It can also filter lines (again with \
	regular expressions). It has interactive menus for editing given \
	regular expressions and deleting and adding windows. One can also have \
	windows with the output of shell scripts and other software. When \
	viewing the output of external software, MultiTail can mimic the \
	functionality of tools like 'watch' and such.

homepage	http://www.vanheusden.com/multitail/
master_sites	${homepage}
extract.suffix	.tgz

checksums	rmd160  bb5057dbd20ac920ef9f848f37c461bf42389477 \
		sha256  8a6baecf3537c791f70645f3613bfea0c91a22040f2531bfe03b6d0cdd112134

depends_lib	port:ncurses

patchfiles  patch-makefile.macosx.diff

post-patch {
	reinplace "s|\$(DESTDIR)/usr|\$(DESTDIR)${prefix}|g" \
		${worksrcpath}/makefile.macosx
        reinplace "s|\$(DESTDIR)/etc|\$(DESTDIR)${prefix}/etc|g" \
                ${worksrcpath}/makefile.macosx
}

use_configure	no

variant universal {}

build.args	-f makefile.macosx \
		CC="${configure.cc} [get_canonical_archflags cc]"

eval destroot.args ${build.args}

livecheck.type	regex
livecheck.url	${homepage}download.php
livecheck.regex	${name}-(\[0-9.]+)${extract.suffix}
