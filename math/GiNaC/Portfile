# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:filetype=tcl:et:sw=4:ts=4:sts=4
# $Id: Portfile 146301 2016-03-04 05:05:57Z khindenburg@macports.org $

PortSystem 1.0

name            GiNaC
version         1.7.0
categories      math
platforms       darwin
license         GPL-2
maintainers     mps openmaintainer
description     GiNaC is Not a Computer algebra system
long_description \
    Currently, GiNaC's capabilities include: \
        1. Very fast manipulation of large integers and \
           rationals owing to the CLN library (for instance, \
           it uses Karatsuba multiplication and \
           Schoenhage-Strassen multiplication for very large \
           integers). \
        2. Efficient handling of multivariate polynomials and \
           rational functions. \
        3. Support for linear algebra includes symbolic \
           matrices, vectors and solving equations. \
        4. Very fast heuristic polynomial GCD. \
        5. Many built in functions (sin, cos, atan, sinh, \
           factorial, etc.) \
        6. Symbolic differentiation and series expansion of \
           all built-in functions. \
        7. Several forms of output (also as optimized C++, \
           for numerical postprocessing). \
        8. Memory-efficiency and -safety through the internal \
           use of reference counting for all expressions.

use_bzip2       yes
distname        ginac-${version}

homepage        http://www.ginac.de/
master_sites    ${homepage}

checksums       rmd160  d5bcf0e295be98985e1ebd2238de33cb28a03ac7 \
                sha256  ac9aa202b8b9683175a40b7a4d55f28616225291a4e2cbfe71378e0d02c944bd

depends_build   port:pkgconfig
depends_lib     port:readline \
                port:cln

post-configure {
	reinplace "s:deprecated:GiNaC_deprecated:g" \
		      ${worksrcpath}/ginac/compiler.h \
		      ${worksrcpath}/ginac/container.h \
		      ${worksrcpath}/ginac/matrix.h
}

test.run        yes
test.target     check

livecheck.type      regex
livecheck.url       ${homepage}News.html
livecheck.regex     "Version (\[0-9.\]+)"
