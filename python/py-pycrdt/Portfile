# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0
PortGroup           python 1.0
#PortGroup           rust 1.0

github.setup        y-crdt pycrdt 0.12.44
github.tarball_from archive
name                py-pycrdt

revision            0
license             MIT
maintainers         {mps @Schamschula} openmaintainer
description         CRDTs based on Yrs.
long_description    {*}${description}
homepage            https://github.com/jupyter-server/pycrdt

checksums           rmd160  e444561409808d975345734389480b181992eeac \
                    sha256  6f995efb4cf247f496d523597f43f0a5a0f411a4da53cad3da619b8ec728b5cb \
                    size    79105

python.versions     310 311 312 313 314

python.pep517_backend \
                    maturin

if {${name} ne ${subport}} {
    depends_lib-append \
                    port:py${python.version}-anyio

    if {${python.version} <= 310} {
        depends_lib-append \
                    port:py${python.version}-typing_extensions
    }

# The rust port group should be used to download the crates, but as this is currently
# only a local port, there will be missing crates on the MacPorts mirrors

    # cd ${worksrcpath}
    # sudo cargo update
    # egrep -e '^(name|version|checksum) = ' Cargo.lock | perl -pe 's/^(?:name|version|checksum) = "(.+)"/$1/' | tr '\n' ' ' | perl -pe 's|([0-9a-f]{64})|\1 \\\n|g' | pbcopy
    # version = 4 
#     cargo.crates \
#          arc-swap 1.7.1 69f7f8c3906b62b754cd5326047894316021dcfe5a194c8ea52bdd94934a3457 \
#          async-lock 3.4.1 5fd03604047cee9b6ce9de9f70c6cd540a0520c813cbd49bae61f33ab80ed1dc \
#          async-trait 0.1.89 9035ad2d096bed7955a320ee7e2230574d28fd3c3a0f186cbea1ff3c7eed5dbb \
#          autocfg 1.5.0 c08606f8c3cbf4ce6ec8e28fb0014a2c086708fe954eaa885384a6165172e7e8 \
#          bitflags 2.10.0 812e12b5285cc515a9c72a5c1d3b6d46a19dac5acfef5265968c166106e31dd3 \
#          bumpalo 3.19.0 46c5e41b57b8bba42a04676d81cb89e9ee8e859a1a66f80a5a72e1cb76b34d43 \
#          cfg-if 1.0.4 9330f8b2ff13f34540b44e946ef35111825727b38d33286ef986142615121801 \
#          concurrent-queue 2.5.0 4ca0197aee26d1ae37445ee532fefce43251d24cc7c166799f4d46817f1d3973 \
#          crossbeam-utils 0.8.21 d0a5c400df2834b80a4c3327b3aad3a4c4cd4de0629063962b03235697506a28 \
#          dashmap 6.1.0 5041cc499144891f3790297212f32a74fb938e5136a14943f338ef9e0ae276cf \
#          event-listener 5.4.1 e13b66accf52311f30a0db42147dadea9850cb48cd070028831ae5f5d4b856ab \
#          event-listener-strategy 0.5.4 8be9f3dfaaffdae2972880079a491a1a8bb7cbed0b8dd7a347f668b4150a3b93 \
#          fastrand 2.3.0 37909eebbb50d72f9059c3b6d82c0463f2ff062c9e95845c43a6c9c0355411be \
#          getrandom 0.2.16 335ff9f135e4384c8150d6f27c6daed433577f86b4750418338c01a1a2528592 \
#          hashbrown 0.14.5 e5274423e17b7c9fc20b6e7e208532f9b19825d82dfd615708b70edd83df41f1 \
#          heck 0.5.0 2304e00983f87ffb38b55b444b5e3b60a884b5d30c0fca7d82fe33449bbe55ea \
#          indoc 2.0.7 79cf5c93f93228cf8efb3ba362535fb11199ac548a09ce117c9b1adc3030d706 \
#          itoa 1.0.15 4a5f13b858c8d314ee3e8f639011f7ccefe71f97f96e50151fb991f267928e2c \
#          js-sys 0.3.83 464a3709c7f55f1f721e5389aa6ea4e3bc6aba669353300af094b29ffbdde1d8 \
#          libc 0.2.178 37c93d8daa9d8a012fd8ab92f088405fb202ea0b6ab73ee2482ae66af4f42091 \
#          lock_api 0.4.14 224399e74b87b5f3557511d98dff8b14089b3dadafcab6bb93eab67d3aace965 \
#          memchr 2.7.6 f52b00d39961fc5b2736ea853c9cc86238e165017a493d1d5c8eac6bdc4cc273 \
#          memoffset 0.9.1 488016bfae457b036d996092f6cb448677611ce4449e970ceaf42695203f218a \
#          once_cell 1.21.3 42f5e15c9953c5e4ccceeb2e7382a716482c34515315f7b03532b8b4e8393d2d \
#          parking 2.2.1 f38d5652c16fde515bb1ecef450ab0f6a219d619a7274976324d5e377f7dceba \
#          parking_lot_core 0.9.12 2621685985a2ebf1c516881c026032ac7deafcda1a2c9b7850dc81e3dfcb64c1 \
#          pin-project-lite 0.2.16 3b3cff922bd51709b605d9ead9aa71031d81447142d828eb4a6eba76fe619f9b \
#          portable-atomic 1.11.1 f84267b20a16ea918e43c6a88433c2d54fa145c92a811b5b047ccbe153674483 \
#          proc-macro2 1.0.103 5ee95bc4ef87b8d5ba32e8b7714ccc834865276eab0aed5c9958d00ec45f49e8 \
#          pycrdt 0.12.44 pyo3 0.27.2 ab53c047fcd1a1d2a8820fe84f05d6be69e9526be40cb03b73f86b6b03e6d87d \
#          pyo3-build-config 0.27.2 b455933107de8642b4487ed26d912c2d899dec6114884214a0b3bb3be9261ea6 \
#          pyo3-ffi 0.27.2 1c85c9cbfaddf651b1221594209aed57e9e5cff63c4d11d1feead529b872a089 \
#          pyo3-macros 0.27.2 0a5b10c9bf9888125d917fb4d2ca2d25c8df94c7ab5a52e13313a07e050a3b02 \
#          pyo3-macros-backend 0.27.2 03b51720d314836e53327f5871d4c0cfb4fb37cc2c4a11cc71907a86342c40f9 \
#          quote 1.0.42 a338cc41d27e6cc6dce6cefc13a0729dfbb81c262b1f519331575dd80ef3067f \
#          redox_syscall 0.5.18 ed2bf2547551a7053d6fdfafda3f938979645c44812fbfcda098faae3f1a362d \
#          rustversion 1.0.22 b39cdef0fa800fc44525c84ccb54a029961a8215f9619753635a9c0d2538d46d \
#          ryu 1.0.20 28d3b2b1366ec20994f1fd18c3c594f05c5dd4bc44d8bb0c1c632c8d6829481f \
#          scopeguard 1.2.0 94143f37725109f92c262ed2cf5e59bce7498c01bcc1502d7b9afe439a4e9f49 \
#          serde 1.0.228 9a8e94ea7f378bd32cbbd37198a4a91436180c5bb472411e48b5ec2e2124ae9e \
#          serde_core 1.0.228 41d385c7d4ca58e59fc732af25c3983b67ac852c1a25000afe1175de458b67ad \
#          serde_derive 1.0.228 d540f220d3187173da220f885ab66608367b6574e925011a9353e4badda91d79 \
#          serde_json 1.0.145 402a6f66d8c709116cf22f558eab210f5a50187f702eb4d7e5ef38d9a7f1c79c \
#          smallstr 0.3.1 862077b1e764f04c251fe82a2ef562fd78d7cadaeb072ca7c2bcaf7217b1ff3b \
#          smallvec 1.15.1 67b1b7a3b5fe4f1376887184045fcf45c69e92af734b7aaddc05fb777b6fbd03 \
#          syn 2.0.111 390cc9a294ab71bdb1aa2e99d13be9c753cd2d7bd6560c77118597410c4d2e87 \
#          target-lexicon 0.13.3 df7f62577c25e07834649fc3b39fafdc597c0a3527dc1c60129201ccfcbaa50c \
#          thiserror 2.0.17 f63587ca0f12b72a0600bcba1d40081f830876000bb46dd2337a3051618f4fc8 \
#          thiserror-impl 2.0.17 3ff15c8ecd7de3849db632e14d18d2571fa09dfc5ed93479bc4485c7a517c913 \
#          unicode-ident 1.0.22 9312f7c4f6ff9069b165498234ce8be658059c6728633667c526e27dc2cf1df5 \
#          unindent 0.2.4 7264e107f553ccae879d21fbea1d6724ac785e8c3bfc762137959b5802826ef3 \
#          wasi 0.11.1+wasi-snapshot-preview1 ccf3ec651a847eb01de73ccad15eb7d99f80485de043efb2f370cd654f4ea44b \
#          wasm-bindgen 0.2.106 0d759f433fa64a2d763d1340820e46e111a7a5ab75f993d1852d70b03dbb80fd \
#          wasm-bindgen-macro 0.2.106 48cb0d2638f8baedbc542ed444afc0644a29166f1595371af4fecf8ce1e7eeb3 \
#          wasm-bindgen-macro-support 0.2.106 cefb59d5cd5f92d9dcf80e4683949f15ca4b511f4ac0a6e14d4e1ac60c6ecd40 \
#          wasm-bindgen-shared 0.2.106 cbc538057e648b67f72a982e708d485b2efa771e1ac05fec311f9f63e5800db4 \
#          windows-link 0.2.1 f0805222e57f7521d6a62e36fa9163bc891acd422f971defe97d64e70d0a4fe5 \
#          yrs 0.25.0 f6893d39bc55d014e4a1d0e71d06c0c41590d5cdeac35c126be44998bc320cff \
}
